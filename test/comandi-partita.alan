--==============================================================================
-- "Meta Comandi di Partita" by Tristano Ajmone, 2018.
--==============================================================================
IMPORT 'libreria.i'. -- ALAN Libreria Standard Italiana v2.1


THE mia_AT IsA blocco_definizioni
  ------------------------------------------------------------------------------
  HAS       titolo  "Meta Comandi di Partita".
  HAS  sottotitolo  "Test per i meta verbi di partita.".
  HAS       autore  "Tristano Ajmone".
  HAS         anno   2018.
  HAS     versione  "1".
  ------------------------------------------------------------------------------
END THE.


-- =============================================================================

-- La Sala Collaudo

-- =============================================================================

THE sala_collaudo IsA stanza.
  NAME 'Sala Test e Collaudo'.
  EXIT nord TO wc.
  DESCRIPTION
    "Questo è il famoso laboratorio dove viene collaudata la Libreria Standard
     Italiana di Alan. A nord c'è il W.C."
  
END THE sala_collaudo.

--==============================================================================

-- Il Gabinetto (WC)

--==============================================================================

THE wc IsA stanza.
  NAME 'W.C.'.
  EXIT sud TO sala_collaudo.
  DESCRIPTION
    "Ogni laboratorio che si rispetti a un W.C. (detto anche"STYLE EMPHASIZED.
    "cesso" STYLE NORMAL. "$$). A sud puoi tornare alla sala test."

END THE wc.

--==============================================================================

-- Miscellanea...

--==============================================================================

ADD TO EVERY blocco_definizioni
  HAS contatore 5.
END ADD TO blocco_definizioni.

EVENT conto_rovescia
  IF mia_AT:contatore = 0
    THEN
      STYLE EMPHASIZED. "$pBOOOOM!!!" STYLE NORMAL. "Conto alla rovescia terminato."
      SET mia_AT:contatore TO 5.
    ELSE
      "$pConto alla rovescia: " SAY mia_AT:contatore.
      SET mia_AT:contatore TO mia_AT:contatore -1.
    END IF.
  SCHEDULE conto_rovescia AFTER 1.
END EVENT.

--------------------------------------------------------------------------------
Start at sala_collaudo.
DESCRIBE intestazione.
SCHEDULE conto_rovescia AFTER 0.
